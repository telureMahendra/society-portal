<div class="page-header">
    <div>
        <h1>Platform Monitoring</h1>
        <p>Real-time health and system alerts for the global multi-tenant platform.</p>
    </div>
</div>

<div class="monitoring-grid" *ngIf="stats">
    <div class="card p-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="m-0">System Health</h3>
            <span class="status-glow" [ngClass]="stats.apiHealth.toLowerCase()"></span>
        </div>
        <div class="display-container">
            <span class="health-text" [ngClass]="stats.apiHealth.toLowerCase()">{{ stats.apiHealth }}</span>
            <p class="text-muted mt-2">All gateway services responding within 50ms.</p>
        </div>
    </div>

    <div class="card p-4">
        <h3 class="mb-3">Active Tenants</h3>
        <div class="stat-value big">{{ stats.activeTenants }}</div>
        <div class="progress mt-3">
            <div class="progress-bar bg-success" style="width: 75%"></div>
        </div>
        <p class="text-muted mt-2 small">75% of capacity allocation reached.</p>
    </div>
</div>

<div class="card mt-4 p-0 overflow-hidden">
    <div class="card-header bg-white p-4 border-bottom">
        <h3 class="m-0">Recent System Alerts</h3>
    </div>
    <div class="alert-list">
        <div class="alert-item" *ngFor="let alert of stats?.systemAlerts" [ngClass]="alert.type.toLowerCase()">
            <div class="alert-icon">
                <i [class]="alert.type === 'WARNING' ? 'icon-alert' : 'icon-info'"></i>
            </div>
            <div class="alert-content">
                <div class="alert-message">{{ alert.message }}</div>
                <div class="alert-time">{{ alert.timestamp | date:'mediumTime' }} - System Log</div>
            </div>
            <div class="alert-action">
                <button class="btn btn-sm btn-outline-secondary">Details</button>
            </div>
        </div>
    </div>
</div>